<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<!-- Time_float widgets for project kanban view -->
		<record id="view_project_kanban_inherited" model="ir.ui.view">
			<field name="name">project.project.kanban.inherited</field>
			<field name="model">project.project</field>
			<field name="inherit_id" ref="project_timesheet.view_project_kanban_inherited" />
			<field name="priority" eval="200"/>
			<field name="arch" type="xml">
				<xpath expr="//div[@class='oe_kanban_footer_left']" position="replace">
					<div class="oe_kanban_footer_left">
						<span groups="project.group_time_work_estimation_tasks">
							<span class="oe_e">R</span>
							<field name="effective_hours" widget="float_time"/>/<field name="planned_hours" widget="float_time"/> <field name="company_uom_id"/>
						</span>
						<span t-if="record.date.raw_value">
							<span class="oe_e">N</span>
							<field name="date"/>
						</span>
					</div>
				</xpath>
			</field>
		</record>

		<!-- Time_float widgets for task kanban view -->
		<record id="view_task_kanban_inherited" model="ir.ui.view">
			<field name="name">view.task.kanban.inherited</field>
			<field name="model">project.task</field>
			<field name="inherit_id" ref="project.view_task_kanban"/>
			<field name="priority" eval="200"/>
			<field name="arch" type="xml">
				<xpath expr="//div[@class='oe_kanban_footer_left']" position="replace">
					<div class="oe_kanban_footer_left">
						<span groups="project.group_time_work_estimation_tasks" title="Remaining hours">
							<span class="oe_e">N</span>
							<field name="remaining_hours" widget="float_time"/>
						</span>
					</div>
				</xpath>
			</field>
		</record>

		<!-- Filter for Task Analysis -->
		<record id="view_task_project_user_search" model="ir.ui.view">
			<field name="name">report.project.task.user.search</field>
            <field name="model">report.project.task.user</field>
            <field name="inherit_id" ref="project.view_task_project_user_search"/>
            <field name="arch" type="xml">
            	<xpath expr="//filter[@string='Assignation Month']" position="after">
            		<filter string="Kokeilu" context="{'group_by':'date_last_stage_update:month'}"/>
            	</xpath>
            </field>
        </record>


        <!-- Form view -->
        <record id="project_project_form_inherit" model="ir.ui.view">
            <field name="name">project.project.form.inherit</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
            	<field name='name' position='after'>
            		<field name="priority" widget="priority"/>
            	</field>

            	<field name='planned_hours' position='after'>
            		<field name="real_total" widget="float_time" />
            	</field>
            </field>
        </record>
	</data>
</openerp>